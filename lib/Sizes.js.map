{"version":3,"sources":["../src/Sizes.js"],"names":["resizeListener","listeners","Sizes","mappedSizesToProps","WrappedComponent","parseMappedSizesToProps","width","height","propsToPass","map","check","reduce","acc","props","state","id","dispatchSizes","forEach","callback","key","window","innerWidth","innerHeight","throttledWindowResize","addEventListener","setState","dimensions","length","removeEventListener","displayName","isMobile","isTablet","isDesktop","isGtMobile","sizes","isGtTablet","isStTablet","isStDesktop","isTabletAndGreater","isTabletAndSmaller"],"mappings":"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","file":"Sizes.js","sourcesContent":["import React, { Component } from 'react';\nimport { v4 } from 'uuid';\nimport keys from 'lodash.keys';\nimport throttle from 'lodash.throttle';\n\nimport getDisplayName from 'react-display-name';\n\nlet resizeListener;\nconst listeners = {};\n\nconst Sizes = (...mappedSizesToProps) => (WrappedComponent) => {\n  const parseMappedSizesToProps = ({ width, height }) => {\n    const propsToPass = mappedSizesToProps\n      .map(check => check({width, height}))\n      .reduce((acc, props) => ({...acc, ...props}), {});\n    return propsToPass\n  }\n\n  return class extends Component {\n    static displayName = `Sizes(${getDisplayName(WrappedComponent)})`;\n\n    state = {\n      id: `A${v4()}`,\n      propsToPass: {},\n    };\n\n    constructor(props) {\n      super(props)\n      this.state.propsToPass = parseMappedSizesToProps({\n        width: window && window.innerWidth,\n        height: window && window.innerHeight,\n      })\n    }\n\n    componentDidMount() {\n      if (!resizeListener) {\n        resizeListener = window.addEventListener('resize', this.throttledWindowResize);\n      }\n\n      listeners[this.state.id] = dimensions => this.setState({ propsToPass: parseMappedSizesToProps(dimensions) });\n      this.dispatchSizes();\n    }\n\n    componentWillUnmount() {\n      delete listeners[this.state.id];\n      if (keys(listeners).length < 1) {\n        window.removeEventListener('resize', this.throttledWindowResize);\n        resizeListener = null;\n      }\n    }\n\n    dispatchSizes = () => {\n      keys(listeners).forEach(key => {\n        const callback = listeners[key];\n\n        if (typeof callback === 'function') {\n          callback({\n            width: window && window.innerWidth,\n            height: window && window.innerHeight,\n          });\n        }\n      });\n    };\n\n    throttledWindowResize = (\n      throttle(this.dispatchSizes, 200)\n    );\n\n    render() {\n      return <WrappedComponent {...this.props} {...this.state.propsToPass} />;\n    }\n  };\n};\n\nSizes.isMobile = ({ width }) => width < 480;\nSizes.isTablet = ({ width }) => width >= 480 && width < 1024;\nSizes.isDesktop = ({ width }) => width >= 1024;\n\nSizes.isGtMobile = (sizes) => !Sizes.isMobile(sizes);\nSizes.isGtTablet = (sizes) => Sizes.isDesktop(sizes);\n\nSizes.isStTablet = (sizes) => Sizes.isMobile(sizes);\nSizes.isStDesktop = (sizes) => !Sizes.isStDesktop(sizes);\n\nSizes.isTabletAndGreater = (sizes) => !Sizes.isMobile(sizes);\nSizes.isTabletAndSmaller = (sizes) => !Sizes.isStDesktop(sizes);\n\nexport default Sizes;\n"]}